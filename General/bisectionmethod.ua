F ← -2-:ⁿ3. # Replace with your function

Iterate ← ⊏2_3 ⍜⊡(⊡1◌):,⟨2|3⟩/=±⊏0_3.⊂[F. ÷2/+] .

[1 2] # [a b]
20    # Number of iterations
⍥(&p. Iterate)
